# Feature Specification: Secure Certification Question Validation

**Feature Branch**: `015-secure-cert-questions`  
**Created**: 2026-02-12  
**Status**: Draft  
**Input**: User description: "agrega seguridad en la preguntas de certificaci√≥n, se esta validando las preguntas desde el lado del frontend y el usuario esta viendo las respuestas"

## User Scenarios & Testing *(mandatory)*

### User Story 1 - Secure Knowledge Certification (Priority: P1)

As a candidate taking the certification, I want to answer questions without having access to the correct answers until I submit, so that my knowledge is evaluated fairly and the integrity of the certification is maintained.

**Why this priority**: Extremely critical to prevent cheating and ensure the certification result is valid.

**Independent Test**: Can be tested by starting a certification, inspecting the question data in the browser (network/storage/state), and verifying that correct answers are not present.

**Acceptance Scenarios**:

1. **Given** a candidate is taking a certification, **When** they view the questions, **Then** they should not find the correct answers in the browser's developer tools (network response, component state).
2. **Given** a candidate submits their answers, **When** the submission is processed, **Then** the validation must be performed exclusively by the backend.

---

### User Story 2 - Transparent but Secure Results (Priority: P2)

As a candidate, after submitting my certification, I want to see my score and which questions I got wrong (with explanations), so that I can learn from my mistakes while knowing the system is secure.

**Why this priority**: Provides feedback to the user, which is part of the current user experience, but it must be done only after submission.

**Independent Test**: Can be tested by submitting a certification and verifying that the backend returns the result and explanations in the response.

**Acceptance Scenarios**:

1. **Given** a candidate has submitted their certification, **When** the backend completes validation, **Then** it should return the score and explanations for incorrectly answered questions.

---

### Edge Cases

- **Partial Submissions**: What happens if a user refreshes or disconnects during the certification? (System should ideally allow resuming or mark as failed if time expired).
- **Time Expiration**: How does the system handle submissions that arrive after the allocated time? (Backend should validate time elapsed and reject if exceeded).

## Requirements *(mandatory)*

### Functional Requirements

- **FR-001**: The system MUST store correct answers and rationales exclusively on the server.
- **FR-002**: The API endpoint providing questions MUST strip correct answers and rationales from the response.
- **FR-003**: The system MUST perform answer validation exclusively on the backend.
- **FR-004**: The certification results (score, status, step update) MUST be calculated and saved on the server based on the answers provided.
- **FR-005**: The frontend MUST NOT involve any logic that compares user answers with correct answers.

### Key Entities

- **CertificationForm**: Represents the set of questions. Now includes `questions` without answers for the client.
- **CertificationResult**: Represents the evaluation of a candidate's answers. Generated by the server.

## Success Criteria *(mandatory)*

### Measurable Outcomes

- **SC-001**: 0% of correct answers are visible in the HTTP response body when fetching certification questions.
- **SC-002**: 100% of answer validation logic is executed on the server.
- **SC-003**: Attempting to bypass the frontend validation (e.g., using Postman to send a pre-calculated result) is impossible because the server recalculates the result.
